{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{BarChart,Bar,XAxis,YAxis,Tooltip,Legend,ResponsiveContainer}from\"recharts\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SaalisYhteenveto=()=>{const[data,setData]=useState([]);const navigate=useNavigate();useEffect(()=>{const raw=JSON.parse(localStorage.getItem(\"saalisdata\")||\"[]\");const summary={};raw.forEach(_ref=>{let{laji,maara,paino}=_ref;if(!summary[laji])summary[laji]={laji,maara:0,paino:0};summary[laji].maara+=Number(maara);summary[laji].paino+=Number(paino);});setData(Object.values(summary));},[]);if(data.length===0){return/*#__PURE__*/_jsx(\"p\",{children:\"Ei riitt\\xE4v\\xE4sti dataa kaavion luomiseen.\"});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83D\\uDCCA Saalisyhteenveto\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:300,children:/*#__PURE__*/_jsxs(BarChart,{data:data,children:[/*#__PURE__*/_jsx(XAxis,{dataKey:\"laji\"}),/*#__PURE__*/_jsx(YAxis,{}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Legend,{}),/*#__PURE__*/_jsx(Bar,{dataKey:\"maara\",name:\"Kappalem\\xE4\\xE4r\\xE4\",fill:\"#82ca9d\"}),/*#__PURE__*/_jsx(Bar,{dataKey:\"paino\",name:\"Yhteispaino (kg)\",fill:\"#8884d8\"})]})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/\"),style:{marginTop:\"1.5em\",padding:\"0.5em\"},children:\"\\uD83D\\uDD19 Palaa ennusteeseen\"})]});};export default SaalisYhteenveto;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","BarChart","Bar","XAxis","YAxis","Tooltip","Legend","ResponsiveContainer","jsx","_jsx","jsxs","_jsxs","SaalisYhteenveto","data","setData","navigate","raw","JSON","parse","localStorage","getItem","summary","forEach","_ref","laji","maara","paino","Number","Object","values","length","children","width","height","dataKey","name","fill","onClick","style","marginTop","padding"],"sources":["C:/Users/veli-pelli/Documents/KalastusApp/frontend/src/components/SaalisYhteenveto.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport {\r\n  BarChart,\r\n  Bar,\r\n  XAxis,\r\n  YAxis,\r\n  Tooltip,\r\n  Legend,\r\n  ResponsiveContainer,\r\n} from \"recharts\";\r\n\r\nconst SaalisYhteenveto = () => {\r\n  const [data, setData] = useState([]);\r\nconst navigate = useNavigate();\r\n  useEffect(() => {\r\n    const raw = JSON.parse(localStorage.getItem(\"saalisdata\") || \"[]\");\r\n    const summary = {};\r\n\r\n    raw.forEach(({ laji, maara, paino }) => {\r\n      if (!summary[laji]) summary[laji] = { laji, maara: 0, paino: 0 };\r\n      summary[laji].maara += Number(maara);\r\n      summary[laji].paino += Number(paino);\r\n    });\r\n\r\n    setData(Object.values(summary));\r\n  }, []);\r\n\r\n  if (data.length === 0) {\r\n    return <p>Ei riittÃ¤vÃ¤sti dataa kaavion luomiseen.</p>;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>ðŸ“Š Saalisyhteenveto</h2>\r\n      <ResponsiveContainer width=\"100%\" height={300}>\r\n        <BarChart data={data}>\r\n          <XAxis dataKey=\"laji\" />\r\n          <YAxis />\r\n          <Tooltip />\r\n          <Legend />\r\n          <Bar dataKey=\"maara\" name=\"KappalemÃ¤Ã¤rÃ¤\" fill=\"#82ca9d\" />\r\n          <Bar dataKey=\"paino\" name=\"Yhteispaino (kg)\" fill=\"#8884d8\" />\r\n        </BarChart>\r\n      </ResponsiveContainer>\r\n\t<button onClick={() => navigate(\"/\")} style={{ marginTop: \"1.5em\", padding: \"0.5em\" }}>\r\n  ðŸ”™ Palaa ennusteeseen\r\n</button>\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SaalisYhteenveto;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OACEC,QAAQ,CACRC,GAAG,CACHC,KAAK,CACLC,KAAK,CACLC,OAAO,CACPC,MAAM,CACNC,mBAAmB,KACd,UAAU,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAElB,KAAM,CAAAC,gBAAgB,CAAGA,CAAA,GAAM,CAC7B,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAAAgB,QAAQ,CAAGf,WAAW,CAAC,CAAC,CAC5BF,SAAS,CAAC,IAAM,CACd,KAAM,CAAAkB,GAAG,CAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC,EAAI,IAAI,CAAC,CAClE,KAAM,CAAAC,OAAO,CAAG,CAAC,CAAC,CAElBL,GAAG,CAACM,OAAO,CAACC,IAAA,EAA4B,IAA3B,CAAEC,IAAI,CAAEC,KAAK,CAAEC,KAAM,CAAC,CAAAH,IAAA,CACjC,GAAI,CAACF,OAAO,CAACG,IAAI,CAAC,CAAEH,OAAO,CAACG,IAAI,CAAC,CAAG,CAAEA,IAAI,CAAEC,KAAK,CAAE,CAAC,CAAEC,KAAK,CAAE,CAAE,CAAC,CAChEL,OAAO,CAACG,IAAI,CAAC,CAACC,KAAK,EAAIE,MAAM,CAACF,KAAK,CAAC,CACpCJ,OAAO,CAACG,IAAI,CAAC,CAACE,KAAK,EAAIC,MAAM,CAACD,KAAK,CAAC,CACtC,CAAC,CAAC,CAEFZ,OAAO,CAACc,MAAM,CAACC,MAAM,CAACR,OAAO,CAAC,CAAC,CACjC,CAAC,CAAE,EAAE,CAAC,CAEN,GAAIR,IAAI,CAACiB,MAAM,GAAK,CAAC,CAAE,CACrB,mBAAOrB,IAAA,MAAAsB,QAAA,CAAG,+CAAuC,CAAG,CAAC,CACvD,CAEA,mBACEpB,KAAA,QAAAoB,QAAA,eACEtB,IAAA,OAAAsB,QAAA,CAAI,+BAAmB,CAAI,CAAC,cAC5BtB,IAAA,CAACF,mBAAmB,EAACyB,KAAK,CAAC,MAAM,CAACC,MAAM,CAAE,GAAI,CAAAF,QAAA,cAC5CpB,KAAA,CAACV,QAAQ,EAACY,IAAI,CAAEA,IAAK,CAAAkB,QAAA,eACnBtB,IAAA,CAACN,KAAK,EAAC+B,OAAO,CAAC,MAAM,CAAE,CAAC,cACxBzB,IAAA,CAACL,KAAK,GAAE,CAAC,cACTK,IAAA,CAACJ,OAAO,GAAE,CAAC,cACXI,IAAA,CAACH,MAAM,GAAE,CAAC,cACVG,IAAA,CAACP,GAAG,EAACgC,OAAO,CAAC,OAAO,CAACC,IAAI,CAAC,uBAAc,CAACC,IAAI,CAAC,SAAS,CAAE,CAAC,cAC1D3B,IAAA,CAACP,GAAG,EAACgC,OAAO,CAAC,OAAO,CAACC,IAAI,CAAC,kBAAkB,CAACC,IAAI,CAAC,SAAS,CAAE,CAAC,EACtD,CAAC,CACQ,CAAC,cAC3B3B,IAAA,WAAQ4B,OAAO,CAAEA,CAAA,GAAMtB,QAAQ,CAAC,GAAG,CAAE,CAACuB,KAAK,CAAE,CAAEC,SAAS,CAAE,OAAO,CAAEC,OAAO,CAAE,OAAQ,CAAE,CAAAT,QAAA,CAAC,iCAExF,CAAQ,CAAC,EAEA,CAAC,CAEV,CAAC,CAED,cAAe,CAAAnB,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}