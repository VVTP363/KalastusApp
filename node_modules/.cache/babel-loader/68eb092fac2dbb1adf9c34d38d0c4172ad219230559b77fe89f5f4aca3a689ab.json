{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\veli-pelli\\\\Documents\\\\KalastusApp\\\\frontend\\\\src\\\\components\\\\VirtavesiTabs.js\",\n  _s = $RefreshSig$();\n// VirtavesiTabs.js\nimport React, { useState } from \"react\";\nimport VirtavesiIlmoitus from \"./VirtavesiIlmoitus\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VirtavesiTabs = () => {\n  _s();\n  const [tab, setTab] = useState(\"ilmoitus\");\n  const saaliit = JSON.parse(localStorage.getItem(\"virtavesisaaliit\") || \"[]\");\n  const renderYhteenveto = () => {\n    const yhteenveto = {};\n    saaliit.forEach(({\n      laji,\n      maara,\n      cr\n    }) => {\n      if (!yhteenveto[laji]) yhteenveto[laji] = {\n        kpl: 0,\n        cr: 0\n      };\n      yhteenveto[laji].kpl += maara;\n      yhteenveto[laji].cr += cr;\n    });\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"\\uD83D\\uDCCA Yhteenveto\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 9\n      }, this), Object.entries(yhteenveto).map(([laji, data]) => /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [laji, \": \", data.kpl, \" kpl (\", data.cr, \" C&R)\"]\n      }, laji, true, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 7\n    }, this);\n  };\n  const exportCSV = () => {\n    const rows = [[\"Aika\", \"Paikka\", \"Laji\", \"Pituus\", \"M√§√§r√§\", \"C&R\"]];\n    saaliit.forEach(s => {\n      rows.push([s.aika, s.paikka, s.laji, s.pituus, s.maara, s.cr]);\n    });\n    const csvContent = rows.map(r => r.join(\";\")).join(\"\\n\");\n    const blob = new Blob([csvContent], {\n      type: \"text/csv;charset=utf-8;\"\n    });\n    const link = document.createElement(\"a\");\n    link.href = URL.createObjectURL(blob);\n    link.download = \"virtavesisaaliit.csv\";\n    link.click();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: \"1em\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setTab(\"ilmoitus\"),\n        children: \"\\uD83C\\uDFA3 Ilmoita saalis\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setTab(\"historia\"),\n        children: \"\\uD83D\\uDCCB Saalishistoria\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setTab(\"yhteenveto\"),\n        children: \"\\uD83D\\uDCCA Yhteenveto\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: exportCSV,\n        style: {\n          marginLeft: \"1em\"\n        },\n        children: \"\\uD83D\\uDCC1 Vie CSV\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), tab === \"ilmoitus\" && /*#__PURE__*/_jsxDEV(VirtavesiIlmoitus, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 30\n    }, this), tab === \"historia\" && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"\\uD83D\\uDCCB Tallennetut saaliit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this), saaliit.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Ei ilmoituksia.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 35\n      }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: saaliit.map((s, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [s.aika.split(\"T\")[0], \" \\u2013 \", s.laji, \" \", s.pituus, \", \", s.maara, \" kpl (\", s.cr, \" C&R)\"]\n        }, i, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }, this), tab === \"yhteenveto\" && renderYhteenveto()]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n};\n_s(VirtavesiTabs, \"EXCZnzP2wRcy/1pcTICjLQjroqA=\");\n_c = VirtavesiTabs;\nexport default VirtavesiTabs;\nvar _c;\n$RefreshReg$(_c, \"VirtavesiTabs\");","map":{"version":3,"names":["React","useState","VirtavesiIlmoitus","jsxDEV","_jsxDEV","VirtavesiTabs","_s","tab","setTab","saaliit","JSON","parse","localStorage","getItem","renderYhteenveto","yhteenveto","forEach","laji","maara","cr","kpl","children","fileName","_jsxFileName","lineNumber","columnNumber","Object","entries","map","data","exportCSV","rows","s","push","aika","paikka","pituus","csvContent","r","join","blob","Blob","type","link","document","createElement","href","URL","createObjectURL","download","click","style","marginBottom","onClick","marginLeft","length","i","split","_c","$RefreshReg$"],"sources":["C:/Users/veli-pelli/Documents/KalastusApp/frontend/src/components/VirtavesiTabs.js"],"sourcesContent":["// VirtavesiTabs.js\r\nimport React, { useState } from \"react\";\r\nimport VirtavesiIlmoitus from \"./VirtavesiIlmoitus\";\r\n\r\nconst VirtavesiTabs = () => {\r\n  const [tab, setTab] = useState(\"ilmoitus\");\r\n\r\n  const saaliit = JSON.parse(localStorage.getItem(\"virtavesisaaliit\") || \"[]\");\r\n\r\n  const renderYhteenveto = () => {\r\n    const yhteenveto = {};\r\n    saaliit.forEach(({ laji, maara, cr }) => {\r\n      if (!yhteenveto[laji]) yhteenveto[laji] = { kpl: 0, cr: 0 };\r\n      yhteenveto[laji].kpl += maara;\r\n      yhteenveto[laji].cr += cr;\r\n    });\r\n\r\n    return (\r\n      <div>\r\n        <h4>üìä Yhteenveto</h4>\r\n        {Object.entries(yhteenveto).map(([laji, data]) => (\r\n          <p key={laji}>{laji}: {data.kpl} kpl ({data.cr} C&R)</p>\r\n        ))}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const exportCSV = () => {\r\n    const rows = [\r\n      [\"Aika\", \"Paikka\", \"Laji\", \"Pituus\", \"M√§√§r√§\", \"C&R\"]\r\n    ];\r\n    saaliit.forEach(s => {\r\n      rows.push([s.aika, s.paikka, s.laji, s.pituus, s.maara, s.cr]);\r\n    });\r\n    const csvContent = rows.map(r => r.join(\";\")).join(\"\\n\");\r\n    const blob = new Blob([csvContent], { type: \"text/csv;charset=utf-8;\" });\r\n    const link = document.createElement(\"a\");\r\n    link.href = URL.createObjectURL(blob);\r\n    link.download = \"virtavesisaaliit.csv\";\r\n    link.click();\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div style={{ marginBottom: \"1em\" }}>\r\n        <button onClick={() => setTab(\"ilmoitus\")}>üé£ Ilmoita saalis</button>\r\n        <button onClick={() => setTab(\"historia\")}>üìã Saalishistoria</button>\r\n        <button onClick={() => setTab(\"yhteenveto\")}>üìä Yhteenveto</button>\r\n        <button onClick={exportCSV} style={{ marginLeft: \"1em\" }}>üìÅ Vie CSV</button>\r\n      </div>\r\n\r\n      {tab === \"ilmoitus\" && <VirtavesiIlmoitus />}\r\n\r\n      {tab === \"historia\" && (\r\n        <div>\r\n          <h4>üìã Tallennetut saaliit</h4>\r\n          {saaliit.length === 0 ? <p>Ei ilmoituksia.</p> : (\r\n            <ul>\r\n              {saaliit.map((s, i) => (\r\n                <li key={i}>{s.aika.split(\"T\")[0]} ‚Äì {s.laji} {s.pituus}, {s.maara} kpl ({s.cr} C&R)</li>\r\n              ))}\r\n            </ul>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {tab === \"yhteenveto\" && renderYhteenveto()}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VirtavesiTabs;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}