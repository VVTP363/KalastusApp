{"ast":null,"code":"// VirtavesiView.js\nimport React,{useEffect,useState,useMemo,useContext}from\"react\";import axios from\"axios\";import{XMLParser}from\"fast-xml-parser\";import{MapContainer,TileLayer,useMapEvents,Marker,Polyline}from\"react-leaflet\";import L from\"leaflet\";import\"leaflet/dist/leaflet.css\";import proj4 from\"proj4\";import\"proj4leaflet\";import{useNavigate}from\"react-router-dom\";import VirtavesiTabs from\"./VirtavesiTabs\";import{AppContext}from\"./AppContext\";import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const blueIcon=new L.Icon({iconUrl:\"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-blue.png\",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowUrl:\"https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png\"});const redIcon=new L.Icon({iconUrl:\"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-red.png\",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowUrl:\"https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png\"});const MapZoomer=_ref=>{let{center}=_ref;const map=useMapEvents({});useEffect(()=>{if(center&&map&&center.length===2&&!isNaN(center[0])&&!isNaN(center[1])){map.setView(center,13);}},[center]);return null;};const PathOverlay=_ref2=>{let{pathPoints,updatePosition}=_ref2;return/*#__PURE__*/_jsxs(_Fragment,{children:[pathPoints.map((pt,idx)=>/*#__PURE__*/_jsx(Marker,{position:[pt.lat,pt.lng],draggable:true,eventHandlers:{dragend:e=>{const newLatLng=e.target.getLatLng();updatePosition(idx,newLatLng);}},icon:redIcon},`marker-${idx}`)),pathPoints.length>1&&/*#__PURE__*/_jsx(Polyline,{positions:pathPoints.map(p=>[p.lat,p.lng]),color:\"blue\"})]});};const ClickableMap=_ref3=>{let{addPathPoint}=_ref3;useMapEvents({click(e){addPathPoint(e.latlng);}});return null;};const OmaPaikkaKohdistus=_ref4=>{let{trigger,setMapCenter}=_ref4;const map=useMapEvents({});useEffect(()=>{if(trigger&&map&&navigator.geolocation){navigator.geolocation.getCurrentPosition(position=>{const coords=[position.coords.latitude,position.coords.longitude];map.setView(coords,13);setMapCenter(coords);L.marker(coords,{icon:blueIcon}).addTo(map).bindPopup(\"Oma sijaintisi\").openPopup();},error=>console.error(\"Sijainnin haku epäonnistui:\",error));}},[trigger]);return null;};function calculateDistance(lat1,lon1,lat2,lon2){const toRad=value=>value*Math.PI/180;const R=6371;const dLat=toRad(lat2-lat1);const dLon=toRad(lon2-lon1);const a=Math.sin(dLat/2)**2+Math.cos(toRad(lat1))*Math.cos(toRad(lat2))*Math.sin(dLon/2)**2;const c=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return R*c;}export default function VirtavesiView(_ref5){let{tideHour=6}=_ref5;const{pressure}=useContext(AppContext);const[pathPoints,setPathPoints]=useState([]);const[mapCenter,setMapCenter]=useState([69.0,25.0]);const[tideAdjust,setTideAdjust]=useState(0);const[distanceKm,setDistanceKm]=useState(0);const[searchQuery,setSearchQuery]=useState(\"\");const[searchError,setSearchError]=useState(\"\");const[mapKey,setMapKey]=useState(Date.now());const[haeOmaPaikka,setHaeOmaPaikka]=useState(true);const[tideBaseHour,setTideBaseHour]=useState(tideHour);const[fetchedTideTime,setFetchedTideTime]=useState(null);const[tideError,setTideError]=useState(null);const navigate=useNavigate();useEffect(()=>{const timer=setTimeout(()=>setHaeOmaPaikka(false),2000);return()=>clearTimeout(timer);},[]);useEffect(()=>{if(pathPoints.length>0){const first=pathPoints[0];const fetchTideTime=async()=>{try{var _res$data,_res$data$tides,_res$data$tides$data;const res=await axios.get(`https://api.met.no/weatherapi/tideforecast/2.0/.json?lat=${first.lat}&lon=${first.lng}`,{headers:{\"User-Agent\":\"KalasääApp/1.0 teemu@kalastaja.fi\"}});const events=((_res$data=res.data)===null||_res$data===void 0?void 0:(_res$data$tides=_res$data.tides)===null||_res$data$tides===void 0?void 0:(_res$data$tides$data=_res$data$tides.data)===null||_res$data$tides$data===void 0?void 0:_res$data$tides$data.extremes)||[];const now=new Date();const nextHigh=events.find(e=>e.type===\"high\"&&new Date(e.time)>now);if(nextHigh){const time=new Date(nextHigh.time);setTideBaseHour(time.getHours());setFetchedTideTime(time.toLocaleTimeString(\"fi-FI\",{hour:\"2-digit\",minute:\"2-digit\"}));setTideError(null);}else{throw new Error(\"Ei löytynyt sopivaa huippua\");}}catch(err){console.error(\"Nousuveden haku (Met.no) epäonnistui:\",err);setTideError(\"❗ Nousuveden huipun haku epäonnistui. Käytetään oletusaikaa klo 6:00.\");}};fetchTideTime();}},[pathPoints]);useEffect(()=>{if(pathPoints.length>1){let total=0;for(let i=1;i<pathPoints.length;i++){total+=calculateDistance(pathPoints[i-1].lat,pathPoints[i-1].lng,pathPoints[i].lat,pathPoints[i].lng);}setDistanceKm(total);}else if(pathPoints.length===1){// Yksi täppä asetettu — nollataan etäisyys mutta ei kadoteta\nsetDistanceKm(0);}else{setDistanceKm(0);}},[pathPoints]);const getPressureFactor=p=>{if(!p||isNaN(p))return 1.0;if(p>1010)return 1.0;if(p>1000)return 1.2;if(p>992)return 1.4;return 1.1;};const adjustedTideHour=useMemo(()=>(24+tideBaseHour+tideAdjust)%24,[tideBaseHour,tideAdjust]);const ottiaika=useMemo(()=>{const factor=getPressureFactor(pressure);const speed=0.5*factor;if(!distanceKm||!speed)return adjustedTideHour;const hours=distanceKm/speed;return Math.round((adjustedTideHour+hours)%24);},[adjustedTideHour,distanceKm,pressure]);const handleSearch=async()=>{if(!searchQuery)return;try{const response=await fetch(`https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(searchQuery)}&format=json`);const data=await response.json();if(data.length>0){const result=data[0];setMapCenter([parseFloat(result.lat),parseFloat(result.lon)]);setMapKey(Date.now());setSearchError(\"\");}else{setSearchError(\"❗ Paikkaa ei löydy\");}}catch(error){console.error(\"Paikkahaku epäonnistui:\",error);setSearchError(\"❗ Paikkahaku epäonnistui\");}};const clearPath=()=>{setPathPoints([]);setDistanceKm(0);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83C\\uDFA3 Virtavesien ottiaikaikkuna\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexWrap:'wrap',gap:'0.3em',marginBottom:'0.8em',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Hae paikka (esim. N\\xE4\\xE4t\\xE4m\\xF6)\",value:searchQuery,onChange:e=>setSearchQuery(e.target.value),style:{padding:'0.1em',fontSize:'0.75em',height:'1.6em',flex:'1'}}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'0.3em'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleSearch,style:{padding:'0.2em 0.4em',fontSize:'0.75em',height:'1.8em'},children:\"\\uD83D\\uDD0D HAE\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setHaeOmaPaikka(true),style:{padding:'0.2em 0.4em',fontSize:'0.75em',height:'1.8em'},children:\"\\uD83D\\uDCCD OMA PAIKKA\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/\"),style:{padding:'0.2em 0.4em',fontSize:'0.75em',height:'1.8em'},children:\"\\u21A9\\uFE0F J\\xC4RVI-/MERIVETEEN\"}),/*#__PURE__*/_jsx(\"button\",{onClick:clearPath,style:{padding:'0.2em 0.4em',fontSize:'0.75em',height:'1.8em',backgroundColor:'#eee',border:'1px solid #aaa'},children:\"\\uD83D\\uDDD1\\uFE0F Tyhjenn\\xE4 mittaus\"})]})]}),searchError&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:searchError}),fetchedTideTime&&/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uD83C\\uDF0A Seuraava nousuvesihuippu (Met.no): \",fetchedTideTime]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Nousuveden huippu (kellotettuna): klo \",adjustedTideHour,\":00\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uD83C\\uDFAF Ennustettu ottiaika: klo \",ottiaika,\":00\"]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u23F1 S\\xE4\\xE4d\\xE4 huippua: \",tideAdjust>=0?\"+\":\"\",tideAdjust,\" h\",/*#__PURE__*/_jsx(\"input\",{type:\"range\",min:\"-3\",max:\"3\",step:\"1\",value:tideAdjust,onChange:e=>setTideAdjust(parseInt(e.target.value))})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uD83D\\uDCCD Valittu et\\xE4isyys jokisuusta: \",distanceKm.toFixed(2),\" km\"]}),/*#__PURE__*/_jsx(\"div\",{style:{height:\"300px\",marginTop:\"1em\"},children:/*#__PURE__*/_jsxs(MapContainer,{center:mapCenter,zoom:8,style:{height:\"100%\"},className:\"leaflet-container\",children:[/*#__PURE__*/_jsx(TileLayer,{url:\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",attribution:\"\\xA9 OpenStreetMap contributors\"}),/*#__PURE__*/_jsx(MapZoomer,{center:mapCenter}),/*#__PURE__*/_jsx(OmaPaikkaKohdistus,{trigger:haeOmaPaikka,setMapCenter:setMapCenter}),/*#__PURE__*/_jsx(ClickableMap,{addPathPoint:latlng=>setPathPoints([...pathPoints,latlng])}),/*#__PURE__*/_jsx(PathOverlay,{pathPoints:pathPoints,updatePosition:(i,newLatLng)=>{const updated=[...pathPoints];updated[i]=newLatLng;setPathPoints(updated);}})]},mapKey)}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:\"2em\"},children:/*#__PURE__*/_jsx(VirtavesiTabs,{ottiaika:ottiaika})})]});}","map":{"version":3,"names":["React","useEffect","useState","useMemo","useContext","axios","XMLParser","MapContainer","TileLayer","useMapEvents","Marker","Polyline","L","proj4","useNavigate","VirtavesiTabs","AppContext","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","blueIcon","Icon","iconUrl","iconSize","iconAnchor","popupAnchor","shadowUrl","redIcon","MapZoomer","_ref","center","map","length","isNaN","setView","PathOverlay","_ref2","pathPoints","updatePosition","children","pt","idx","position","lat","lng","draggable","eventHandlers","dragend","e","newLatLng","target","getLatLng","icon","positions","p","color","ClickableMap","_ref3","addPathPoint","click","latlng","OmaPaikkaKohdistus","_ref4","trigger","setMapCenter","navigator","geolocation","getCurrentPosition","coords","latitude","longitude","marker","addTo","bindPopup","openPopup","error","console","calculateDistance","lat1","lon1","lat2","lon2","toRad","value","Math","PI","R","dLat","dLon","a","sin","cos","c","atan2","sqrt","VirtavesiView","_ref5","tideHour","pressure","setPathPoints","mapCenter","tideAdjust","setTideAdjust","distanceKm","setDistanceKm","searchQuery","setSearchQuery","searchError","setSearchError","mapKey","setMapKey","Date","now","haeOmaPaikka","setHaeOmaPaikka","tideBaseHour","setTideBaseHour","fetchedTideTime","setFetchedTideTime","tideError","setTideError","navigate","timer","setTimeout","clearTimeout","first","fetchTideTime","_res$data","_res$data$tides","_res$data$tides$data","res","get","headers","events","data","tides","extremes","nextHigh","find","type","time","getHours","toLocaleTimeString","hour","minute","Error","err","total","i","getPressureFactor","adjustedTideHour","ottiaika","factor","speed","hours","round","handleSearch","response","fetch","encodeURIComponent","json","result","parseFloat","lon","clearPath","style","display","flexWrap","gap","marginBottom","alignItems","placeholder","onChange","padding","fontSize","height","flex","onClick","backgroundColor","border","min","max","step","parseInt","toFixed","marginTop","zoom","className","url","attribution","updated"],"sources":["C:/Users/veli-pelli/Documents/KalastusApp/frontend/src/components/VirtavesiView.js"],"sourcesContent":["// VirtavesiView.js\r\nimport React, { useEffect, useState, useMemo, useContext } from \"react\";\r\nimport axios from \"axios\";\r\nimport { XMLParser } from \"fast-xml-parser\";\r\nimport { MapContainer, TileLayer, useMapEvents, Marker, Polyline } from \"react-leaflet\";\r\nimport L from \"leaflet\";\r\nimport \"leaflet/dist/leaflet.css\";\r\nimport proj4 from \"proj4\";\r\nimport \"proj4leaflet\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport VirtavesiTabs from \"./VirtavesiTabs\";\r\nimport { AppContext } from \"./AppContext\";\r\n\r\nconst blueIcon = new L.Icon({\r\n  iconUrl: \"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-blue.png\",\r\n  iconSize: [25, 41],\r\n  iconAnchor: [12, 41],\r\n  popupAnchor: [1, -34],\r\n  shadowUrl: \"https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png\"\r\n});\r\n\r\nconst redIcon = new L.Icon({\r\n  iconUrl: \"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-red.png\",\r\n  iconSize: [25, 41],\r\n  iconAnchor: [12, 41],\r\n  popupAnchor: [1, -34],\r\n  shadowUrl: \"https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png\"\r\n});\r\n\r\nconst MapZoomer = ({ center }) => {\r\n  const map = useMapEvents({});\r\n  useEffect(() => {\r\n    if (center && map && center.length === 2 && !isNaN(center[0]) && !isNaN(center[1])) {\r\n      map.setView(center, 13);\r\n    }\r\n  }, [center]);\r\n  return null;\r\n};\r\n\r\nconst PathOverlay = ({ pathPoints, updatePosition }) => (\r\n  <>\r\n    {pathPoints.map((pt, idx) => (\r\n      <Marker\r\n        key={`marker-${idx}`}\r\n        position={[pt.lat, pt.lng]}\r\n        draggable={true}\r\n        eventHandlers={{\r\n          dragend: (e) => {\r\n            const newLatLng = e.target.getLatLng();\r\n            updatePosition(idx, newLatLng);\r\n          }\r\n        }}\r\n        icon={redIcon}\r\n      />\r\n    ))}\r\n    {pathPoints.length > 1 && <Polyline positions={pathPoints.map(p => [p.lat, p.lng])} color=\"blue\" />}\r\n  </>\r\n);\r\n\r\nconst ClickableMap = ({ addPathPoint }) => {\r\n  useMapEvents({\r\n    click(e) {\r\n      addPathPoint(e.latlng);\r\n    }\r\n  });\r\n  return null;\r\n};\r\n\r\nconst OmaPaikkaKohdistus = ({ trigger, setMapCenter }) => {\r\n  const map = useMapEvents({});\r\n  useEffect(() => {\r\n    if (trigger && map && navigator.geolocation) {\r\n      navigator.geolocation.getCurrentPosition(\r\n        (position) => {\r\n          const coords = [position.coords.latitude, position.coords.longitude];\r\n          map.setView(coords, 13);\r\n          setMapCenter(coords);\r\n          L.marker(coords, { icon: blueIcon })\r\n            .addTo(map)\r\n            .bindPopup(\"Oma sijaintisi\")\r\n            .openPopup();\r\n        },\r\n        (error) => console.error(\"Sijainnin haku epäonnistui:\", error)\r\n      );\r\n    }\r\n  }, [trigger]);\r\n  return null;\r\n};\r\n\r\nfunction calculateDistance(lat1, lon1, lat2, lon2) {\r\n  const toRad = (value) => (value * Math.PI) / 180;\r\n  const R = 6371;\r\n  const dLat = toRad(lat2 - lat1);\r\n  const dLon = toRad(lon2 - lon1);\r\n  const a =\r\n    Math.sin(dLat / 2) ** 2 +\r\n    Math.cos(toRad(lat1)) * Math.cos(toRad(lat2)) *\r\n    Math.sin(dLon / 2) ** 2;\r\n  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n  return R * c;\r\n}\r\n\r\nexport default function VirtavesiView({ tideHour = 6 }) {\r\n  const { pressure } = useContext(AppContext);\r\n  const [pathPoints, setPathPoints] = useState([]);\r\n  const [mapCenter, setMapCenter] = useState([69.0, 25.0]);\r\n  const [tideAdjust, setTideAdjust] = useState(0);\r\n  const [distanceKm, setDistanceKm] = useState(0);\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [searchError, setSearchError] = useState(\"\");\r\n  const [mapKey, setMapKey] = useState(Date.now());\r\n  const [haeOmaPaikka, setHaeOmaPaikka] = useState(true);\r\n  const [tideBaseHour, setTideBaseHour] = useState(tideHour);\r\n  const [fetchedTideTime, setFetchedTideTime] = useState(null);\r\n  const [tideError, setTideError] = useState(null);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => setHaeOmaPaikka(false), 2000);\r\n    return () => clearTimeout(timer);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (pathPoints.length > 0) {\r\n      const first = pathPoints[0];\r\n      const fetchTideTime = async () => {\r\n        try {\r\n          const res = await axios.get(\r\n            `https://api.met.no/weatherapi/tideforecast/2.0/.json?lat=${first.lat}&lon=${first.lng}`,\r\n            {\r\n              headers: {\r\n                \"User-Agent\": \"KalasääApp/1.0 teemu@kalastaja.fi\"\r\n              }\r\n            }\r\n          );\r\n          const events = res.data?.tides?.data?.extremes || [];\r\n          const now = new Date();\r\n          const nextHigh = events.find(e => e.type === \"high\" && new Date(e.time) > now);\r\n          if (nextHigh) {\r\n            const time = new Date(nextHigh.time);\r\n            setTideBaseHour(time.getHours());\r\n            setFetchedTideTime(time.toLocaleTimeString(\"fi-FI\", { hour: \"2-digit\", minute: \"2-digit\" }));\r\n            setTideError(null);\r\n          } else {\r\n            throw new Error(\"Ei löytynyt sopivaa huippua\");\r\n          }\r\n        } catch (err) {\r\n          console.error(\"Nousuveden haku (Met.no) epäonnistui:\", err);\r\n          setTideError(\"❗ Nousuveden huipun haku epäonnistui. Käytetään oletusaikaa klo 6:00.\");\r\n        }\r\n      };\r\n      fetchTideTime();\r\n    }\r\n  }, [pathPoints]);\r\n\r\nuseEffect(() => {\r\n  if (pathPoints.length > 1) {\r\n    let total = 0;\r\n    for (let i = 1; i < pathPoints.length; i++) {\r\n      total += calculateDistance(\r\n        pathPoints[i - 1].lat,\r\n        pathPoints[i - 1].lng,\r\n        pathPoints[i].lat,\r\n        pathPoints[i].lng\r\n      );\r\n    }\r\n    setDistanceKm(total);\r\n  } else if (pathPoints.length === 1) {\r\n    // Yksi täppä asetettu — nollataan etäisyys mutta ei kadoteta\r\n    setDistanceKm(0);\r\n  } else {\r\n    setDistanceKm(0);\r\n  }\r\n}, [pathPoints]);\r\n\r\n\r\n  const getPressureFactor = (p) => {\r\n    if (!p || isNaN(p)) return 1.0;\r\n    if (p > 1010) return 1.0;\r\n    if (p > 1000) return 1.2;\r\n    if (p > 992) return 1.4;\r\n    return 1.1;\r\n  };\r\n\r\n  const adjustedTideHour = useMemo(() => (24 + tideBaseHour + tideAdjust) % 24, [tideBaseHour, tideAdjust]);\r\n\r\n  const ottiaika = useMemo(() => {\r\n    const factor = getPressureFactor(pressure);\r\n    const speed = 0.5 * factor;\r\n    if (!distanceKm || !speed) return adjustedTideHour;\r\n    const hours = distanceKm / speed;\r\n    return Math.round((adjustedTideHour + hours) % 24);\r\n  }, [adjustedTideHour, distanceKm, pressure]);\r\n\r\n  const handleSearch = async () => {\r\n    if (!searchQuery) return;\r\n    try {\r\n      const response = await fetch(`https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(searchQuery)}&format=json`);\r\n      const data = await response.json();\r\n      if (data.length > 0) {\r\n        const result = data[0];\r\n        setMapCenter([parseFloat(result.lat), parseFloat(result.lon)]);\r\n        setMapKey(Date.now());\r\n        setSearchError(\"\");\r\n      } else {\r\n        setSearchError(\"❗ Paikkaa ei löydy\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Paikkahaku epäonnistui:\", error);\r\n      setSearchError(\"❗ Paikkahaku epäonnistui\");\r\n    }\r\n  };\r\n\r\n  const clearPath = () => {\r\n    setPathPoints([]);\r\n    setDistanceKm(0);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>🎣 Virtavesien ottiaikaikkuna</h2>\r\n      <div style={{ display: 'flex', flexWrap: 'wrap', gap: '0.3em', marginBottom: '0.8em', alignItems: 'center' }}>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Hae paikka (esim. Näätämö)\"\r\n          value={searchQuery}\r\n          onChange={(e) => setSearchQuery(e.target.value)}\r\n          style={{ padding: '0.1em', fontSize: '0.75em', height: '1.6em', flex: '1' }}\r\n        />\r\n        <div style={{ display: 'flex', gap: '0.3em' }}>\r\n          <button onClick={handleSearch} style={{ padding: '0.2em 0.4em', fontSize: '0.75em', height: '1.8em' }}>🔍 HAE</button>\r\n          <button onClick={() => setHaeOmaPaikka(true)} style={{ padding: '0.2em 0.4em', fontSize: '0.75em', height: '1.8em' }}>📍 OMA PAIKKA</button>\r\n          <button onClick={() => navigate(\"/\")} style={{ padding: '0.2em 0.4em', fontSize: '0.75em', height: '1.8em' }}>↩️ JÄRVI-/MERIVETEEN</button>\r\n          <button onClick={clearPath} style={{ padding: '0.2em 0.4em', fontSize: '0.75em', height: '1.8em', backgroundColor: '#eee', border: '1px solid #aaa' }}>🗑️ Tyhjennä mittaus</button>\r\n        </div>\r\n      </div>\r\n      {searchError && <p style={{ color: 'red' }}>{searchError}</p>}\r\n      {/*tideError && <p style={{ color: 'red' }}>{tideError}</p>*/}\r\n      {fetchedTideTime && <p>🌊 Seuraava nousuvesihuippu (Met.no): {fetchedTideTime}</p>}\r\n      <p>Nousuveden huippu (kellotettuna): klo {adjustedTideHour}:00</p>\r\n      <p>🎯 Ennustettu ottiaika: klo {ottiaika}:00</p>\r\n      <label>\r\n        ⏱ Säädä huippua: {tideAdjust >= 0 ? \"+\" : \"\"}{tideAdjust} h\r\n        <input\r\n          type=\"range\"\r\n          min=\"-3\"\r\n          max=\"3\"\r\n          step=\"1\"\r\n          value={tideAdjust}\r\n          onChange={(e) => setTideAdjust(parseInt(e.target.value))}\r\n        />\r\n      </label>\r\n      <p>📍 Valittu etäisyys jokisuusta: {distanceKm.toFixed(2)} km</p>\r\n\r\n      <div style={{ height: \"300px\", marginTop: \"1em\" }}>\r\n        <MapContainer\r\n          key={mapKey}\r\n          center={mapCenter}\r\n          zoom={8}\r\n          style={{ height: \"100%\" }}\r\n          className=\"leaflet-container\"\r\n        >\r\n          <TileLayer url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\" attribution=\"&copy; OpenStreetMap contributors\" />\r\n          <MapZoomer center={mapCenter} />\r\n          <OmaPaikkaKohdistus trigger={haeOmaPaikka} setMapCenter={setMapCenter} />\r\n          <ClickableMap addPathPoint={(latlng) => setPathPoints([...pathPoints, latlng])} />\r\n          <PathOverlay pathPoints={pathPoints} updatePosition={(i, newLatLng) => {\r\n            const updated = [...pathPoints];\r\n            updated[i] = newLatLng;\r\n            setPathPoints(updated);\r\n          }} />\r\n        </MapContainer>\r\n      </div>\r\n\r\n      <div style={{ marginTop: \"2em\" }}>\r\n        <VirtavesiTabs ottiaika={ottiaika} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}