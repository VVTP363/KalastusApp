{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{XMLParser}from\"fast-xml-parser\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Weather=()=>{const[forecastData,setForecastData]=useState({});const[locationName,setLocationName]=useState(\"Nykyinen sijainti haetaan...\");const[searchLocation,setSearchLocation]=useState(\"\");const[latitude,setLatitude]=useState(null);const[longitude,setLongitude]=useState(null);const[error,setError]=useState(null);const[loading,setLoading]=useState(false);const[moonPhase,setMoonPhase]=useState(\"\");const weatherDescriptions={\"1\":\"Aurinkoista ☀️\",\"2\":\"Puolipilvistä ⛅\",\"3\":\"Pilvistä ☁️\",\"21\":\"Heikko sadekuuro 🌦\",\"22\":\"Sadekuuro 🌧\",\"23\":\"Voimakas sadekuuro ⛈\",\"31\":\"Heikko vesisade 🌦\",\"32\":\"Vesisade 🌧\",\"33\":\"Voimakas vesisade 🌧💦\",\"41\":\"Heikko lumisade ❄️\",\"42\":\"Lumisade 🌨\",\"43\":\"Voimakas lumisade 🌨❄️\"};useEffect(()=>{getUserLocation();calculateMoonPhase();},[]);useEffect(()=>{if(latitude!==null&&longitude!==null){console.log(\"🔄 Koordinaatit päivittyivät:\",latitude,longitude);fetchWeatherData(latitude,longitude);}},[latitude,longitude]);const reverseGeocode=async(lat,lon)=>{try{const res=await axios.get(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lon}`);const address=res.data.address;const location=address.village||address.town||address.city||address.municipality||\"Tuntematon paikka\";console.log(\"📍 ReverseGeocode päivittää paikan:\",location);setLocationName(location);}catch(error){console.error(\"❌ Paikan haku epäonnistui:\",error);setLocationName(\"Paikan haku epäonnistui\");}};const[tempLocationName,setTempLocationName]=useState(\"\");const searchForLocation=async()=>{console.log(\"🔍 Haetaan paikka:\",searchLocation);// TULOSTAA HAKUSANAN\ntry{const res=await axios.get(`https://nominatim.openstreetmap.org/search?format=json&q=${searchLocation}`);console.log(\"📡 API-vastaus:\",res.data);// TULOSTAA NOMINATIM API -VASTAUKSEN\nif(res.data.length>0){const place=res.data[0];const newLat=parseFloat(place.lat);const newLon=parseFloat(place.lon);const newLocationName=place.display_name.split(\",\")[0];// Näytetään vain ensimmäinen osa nimestä\nconsole.log(\"📍 Uusi paikka löydetty:\",place.display_name);// TULOSTAA LÖYDETYN PAIKAN\nconsole.log(\"🌍 Päivitetään koordinaatit:\",newLat,newLon);// Tulostaa uudet koordinaatit\nsetLatitude(newLat);setLongitude(newLon);setTimeout(()=>{setLocationName(newLocationName);},50);await reverseGeocode(newLat,newLon);fetchWeatherData(newLat,newLon);}else{console.warn(\"⚠️ Paikkaa ei löydy!\");setError(\"Paikkaa ei löydy\");}}catch(error){console.error(\"❌ Paikkahaun virhe:\",error);setError(\"Paikan haku epäonnistui\");}};const getUserLocation=()=>{if(!navigator.geolocation){setError(\"❌ Selaimesi ei tue GPS:ää\");return;}console.log(\"📡 Pyydetään GPS-lupaa...\");// 🔥 TULOSTAA DEBUG-VIESTIN\nnavigator.permissions.query({name:\"geolocation\"}).then(result=>{console.log(\"📜 GPS-luvan tila:\",result.state);// 🔥 TULOSTAA LUVAN TILAN\nif(result.state===\"denied\"){setError(\"❌ GPS on estetty. Salli selaimen asetuksista!\");return;}navigator.geolocation.getCurrentPosition(async position=>{const newLat=position.coords.latitude;const newLon=position.coords.longitude;console.log(\"📍 GPS-sijainti saatu:\",newLat,newLon);// 🔥 Varmistus että GPS toimii\nsetLatitude(newLat);setLongitude(newLon);setLocationName(\"Oma sijainti\");await reverseGeocode(newLat,newLon);fetchWeatherData(newLat,newLon);},error=>{console.error(\"❌ GPS-virhe:\",error);setError(\"📍 GPS ei käytettävissä. Tarkista asetukset.\");},{enableHighAccuracy:true,timeout:10000,maximumAge:0});});};const calculateMoonPhase=()=>{const today=new Date();const lastNewMoon=new Date(\"2025-02-28\");const msPerDay=1000*60*60*24;const moonCycle=29.53;let diffDays=Math.floor((today-lastNewMoon)/msPerDay)%moonCycle;if(diffDays<0)diffDays+=moonCycle;let phaseText=\"🌑 Uusikuu\";if(diffDays<1.5)phaseText=\"🌑 Uusikuu\";else if(diffDays<7.5)phaseText=\"🌒 Kasvava sirppi 1/4\";else if(diffDays<14.5)phaseText=\"🌓 Kasvava puolikuu 2/4\";else if(diffDays<16.5)phaseText=\"🌕 Täysikuu\";else if(diffDays<23)phaseText=\"🌖 Pienenevä kuu 3/4\";else phaseText=\"🌗 Pienenevä kuu 4/4\";setMoonPhase(phaseText);};const fetchWeatherData=async(lat,lon)=>{if(!lat||!lon){console.error(\"❌ Koordinaatit puuttuvat, ei voida hakea säätietoja!\");return;}setLoading(true);setError(null);try{var _parsedResult$wfsFea;console.log(\"📡 Haetaan säätiedot:\",lat,lon);// Tulostaa haettavat koordinaatit\nconst url=`https://opendata.fmi.fi/wfs?service=WFS&version=2.0.0&request=getFeature&storedquery_id=fmi::forecast::harmonie::surface::point::simple&latlon=${lat},${lon}&parameters=Temperature,FeelsLike,WindSpeedMS,WindDirection,Pressure,WeatherSymbol3`;const response=await axios.get(url);const parser=new XMLParser({ignoreAttributes:false});const parsedResult=parser.parse(response.data);if(!(parsedResult!==null&&parsedResult!==void 0&&(_parsedResult$wfsFea=parsedResult[\"wfs:FeatureCollection\"])!==null&&_parsedResult$wfsFea!==void 0&&_parsedResult$wfsFea[\"wfs:member\"])){throw new Error(\"Virheellinen XML-muoto\");}console.log(\"✅ Säädata haettu onnistuneesti!\");const elements=parsedResult[\"wfs:FeatureCollection\"][\"wfs:member\"];const dataMap={};elements.forEach(el=>{const element=el[\"BsWfs:BsWfsElement\"];const time=new Date(element[\"BsWfs:Time\"]);let hourKey=time.getHours();if(hourKey===0)hourKey=24;// Muunnetaan klo 00 → 24\nconst dayKey=time.toISOString().split(\"T\")[0];const paramName=element[\"BsWfs:ParameterName\"];let value=element[\"BsWfs:ParameterValue\"];const openMap=()=>{if(!latitude||!longitude){setError(\"📍 Ei GPS-sijaintia. Käytä 'Oma Paikka' ensin!\");/*#__PURE__*/_jsx(\"button\",{onClick:openMap,children:\"\\uD83D\\uDCCD Avaa kartta\"});return;}const url=`https://www.google.com/maps?q=${latitude},${longitude}`;console.log(\"🗺️ Avataan kartta:\",url);setTimeout(()=>{window.open(url,\"_blank\",\"noopener,noreferrer\");},300);};if([8,16,24].includes(hourKey)){// Nyt mukana myös klo 24\nif(!dataMap[dayKey])dataMap[dayKey]={};if(!dataMap[dayKey][hourKey])dataMap[dayKey][hourKey]={};if(paramName===\"FeelsLike\"||paramName===\"Temperature\"){value=parseFloat(value).toFixed(1);}dataMap[dayKey][hourKey][paramName]=value;}});console.log(\"🌦 Päivitetty säädata:\",dataMap);// Tulostaa uuden säädatan\nsetForecastData(dataMap);}catch(error){console.error(\"❌ Säätiedon haku epäonnistui:\",error);setError(\"Säätiedon haku epäonnistui\");}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83C\\uDF26 S\\xE4\\xE4ennuste\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uD83D\\uDCCD \",locationName,\" (\",latitude||\"-\",\", \",longitude||\"-\",\")\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uD83C\\uDF19 Kuun vaihe: \",moonPhase]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:searchLocation,onChange:e=>setSearchLocation(e.target.value),placeholder:\"Hae paikka...\"}),/*#__PURE__*/_jsx(\"button\",{onClick:searchForLocation,children:\"\\uD83D\\uDD0D HAE\"}),/*#__PURE__*/_jsx(\"button\",{onClick:getUserLocation,children:\"OMA PAIKKA\"}),loading&&/*#__PURE__*/_jsx(\"p\",{children:\"\\u23F3 Ladataan s\\xE4\\xE4tietoja...\"}),error&&/*#__PURE__*/_jsxs(\"p\",{style:{color:\"red\"},children:[\"\\u26A0\\uFE0F \",error]}),/*#__PURE__*/_jsx(\"div\",{children:Object.entries(forecastData).map(_ref=>{let[date,hours]=_ref;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:date}),Object.entries(hours).map(_ref2=>{let[hour,data]=_ref2;return/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u23F0 \",hour,\":00 \\uD83C\\uDF21 \",data.Temperature,\"\\xB0C (Tuntuu kuin \",data.FeelsLike,\"\\xB0C) \\uD83D\\uDCA8 \",data.WindSpeedMS,\"m/s \",data.WindDirection,\"\\xB0 \\uD83C\\uDF24 S\\xE4\\xE4: \",weatherDescriptions[data.WeatherSymbol3]||\"Tuntematon\"]},hour);})]},date);})})]},`${locationName}-${latitude}-${longitude}`);};export default Weather;","map":{"version":3,"names":["React","useState","useEffect","axios","XMLParser","jsx","_jsx","jsxs","_jsxs","Weather","forecastData","setForecastData","locationName","setLocationName","searchLocation","setSearchLocation","latitude","setLatitude","longitude","setLongitude","error","setError","loading","setLoading","moonPhase","setMoonPhase","weatherDescriptions","getUserLocation","calculateMoonPhase","console","log","fetchWeatherData","reverseGeocode","lat","lon","res","get","address","data","location","village","town","city","municipality","tempLocationName","setTempLocationName","searchForLocation","length","place","newLat","parseFloat","newLon","newLocationName","display_name","split","setTimeout","warn","navigator","geolocation","permissions","query","name","then","result","state","getCurrentPosition","position","coords","enableHighAccuracy","timeout","maximumAge","today","Date","lastNewMoon","msPerDay","moonCycle","diffDays","Math","floor","phaseText","_parsedResult$wfsFea","url","response","parser","ignoreAttributes","parsedResult","parse","Error","elements","dataMap","forEach","el","element","time","hourKey","getHours","dayKey","toISOString","paramName","value","openMap","onClick","children","window","open","includes","toFixed","type","onChange","e","target","placeholder","style","color","Object","entries","map","_ref","date","hours","_ref2","hour","Temperature","FeelsLike","WindSpeedMS","WindDirection","WeatherSymbol3"],"sources":["C:/Users/veli-pelli/Documents/KalastusApp/src/components/Weather.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { XMLParser } from \"fast-xml-parser\";\r\n\r\nconst Weather = () => {\r\n  const [forecastData, setForecastData] = useState({});\r\n  const [locationName, setLocationName] = useState(\"Nykyinen sijainti haetaan...\");\r\n  const [searchLocation, setSearchLocation] = useState(\"\");\r\n  const [latitude, setLatitude] = useState(null);\r\n  const [longitude, setLongitude] = useState(null);\r\n  const [error, setError] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [moonPhase, setMoonPhase] = useState(\"\");\r\n  \r\n  const weatherDescriptions = {\r\n    \"1\": \"Aurinkoista ☀️\",\r\n    \"2\": \"Puolipilvistä ⛅\",\r\n    \"3\": \"Pilvistä ☁️\",\r\n    \"21\": \"Heikko sadekuuro 🌦\",\r\n    \"22\": \"Sadekuuro 🌧\",\r\n    \"23\": \"Voimakas sadekuuro ⛈\",\r\n    \"31\": \"Heikko vesisade 🌦\",\r\n    \"32\": \"Vesisade 🌧\",\r\n    \"33\": \"Voimakas vesisade 🌧💦\",\r\n    \"41\": \"Heikko lumisade ❄️\",\r\n    \"42\": \"Lumisade 🌨\",\r\n    \"43\": \"Voimakas lumisade 🌨❄️\"\r\n  };\r\n\r\n  useEffect(() => {\r\n    getUserLocation();\r\n    calculateMoonPhase();\r\n  }, []);\r\n  \r\n \r\n  useEffect(() => {\r\n    if (latitude !== null && longitude !== null) {\r\n      console.log(\"🔄 Koordinaatit päivittyivät:\", latitude, longitude);\r\n      fetchWeatherData(latitude, longitude);\r\n    }\r\n  }, [latitude, longitude]);\r\n  const reverseGeocode = async (lat, lon) => {\r\n  \r\ntry {\r\n    const res = await axios.get(\r\n      `https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lon}`\r\n    );\r\n    const address = res.data.address;\r\n    const location =\r\n      address.village ||\r\n      address.town ||\r\n      address.city ||\r\n      address.municipality ||\r\n      \"Tuntematon paikka\";\r\n\r\n    console.log(\"📍 ReverseGeocode päivittää paikan:\", location);\r\n    setLocationName(location);\r\n  } catch (error) {\r\n    console.error(\"❌ Paikan haku epäonnistui:\", error);\r\n    setLocationName(\"Paikan haku epäonnistui\");\r\n  }\r\n};\r\n  const [tempLocationName, setTempLocationName] = useState(\"\");\r\n\r\n  const searchForLocation = async () => {\r\n    console.log(\"🔍 Haetaan paikka:\", searchLocation); // TULOSTAA HAKUSANAN\r\n\r\n  try {\r\n    const res = await axios.get(\r\n      `https://nominatim.openstreetmap.org/search?format=json&q=${searchLocation}`\r\n    );\r\n    console.log(\"📡 API-vastaus:\", res.data); // TULOSTAA NOMINATIM API -VASTAUKSEN\r\n\r\n    if (res.data.length > 0) {\r\n      const place = res.data[0];\r\n      const newLat = parseFloat(place.lat);\r\n      const newLon = parseFloat(place.lon);\r\n      const newLocationName = place.display_name.split(\",\")[0]; // Näytetään vain ensimmäinen osa nimestä\r\n      console.log(\"📍 Uusi paikka löydetty:\", place.display_name); // TULOSTAA LÖYDETYN PAIKAN\r\n      console.log(\"🌍 Päivitetään koordinaatit:\", newLat, newLon); // Tulostaa uudet koordinaatit\r\n      \r\n      setLatitude(newLat);\r\n      setLongitude(newLon);\r\n      setTimeout(() => {\r\n        setLocationName(newLocationName);\r\n      }, 50);\r\n    \r\n      await reverseGeocode(newLat, newLon)\r\n      fetchWeatherData(newLat, newLon);\r\n    } else {\r\n      console.warn(\"⚠️ Paikkaa ei löydy!\");\r\n      setError(\"Paikkaa ei löydy\");\r\n    }\r\n  } catch (error) {\r\n    console.error(\"❌ Paikkahaun virhe:\", error);\r\n    setError(\"Paikan haku epäonnistui\");\r\n  }\r\n};\r\n\r\nconst getUserLocation = () => {\r\n  if (!navigator.geolocation) {\r\n    setError(\"❌ Selaimesi ei tue GPS:ää\");\r\n    return;\r\n  }\r\n\r\n  console.log(\"📡 Pyydetään GPS-lupaa...\"); // 🔥 TULOSTAA DEBUG-VIESTIN\r\n\r\n  navigator.permissions\r\n    .query({ name: \"geolocation\" })\r\n    .then((result) => {\r\n      console.log(\"📜 GPS-luvan tila:\", result.state); // 🔥 TULOSTAA LUVAN TILAN\r\n\r\n      if (result.state === \"denied\") {\r\n        setError(\"❌ GPS on estetty. Salli selaimen asetuksista!\");\r\n        return;\r\n      }\r\n\r\n      navigator.geolocation.getCurrentPosition(\r\n        async (position) => {\r\n          const newLat = position.coords.latitude;\r\n          const newLon = position.coords.longitude;\r\n\r\n          console.log(\"📍 GPS-sijainti saatu:\", newLat, newLon); // 🔥 Varmistus että GPS toimii\r\n\r\n          setLatitude(newLat);\r\n          setLongitude(newLon);\r\n          setLocationName(\"Oma sijainti\");\r\n          await reverseGeocode(newLat, newLon);\r\n          fetchWeatherData(newLat, newLon);\r\n        },\r\n        (error) => {\r\n          console.error(\"❌ GPS-virhe:\", error);\r\n          setError(\"📍 GPS ei käytettävissä. Tarkista asetukset.\");\r\n        },\r\n        { enableHighAccuracy: true, timeout: 10000, maximumAge: 0 }\r\n        \r\n      );\r\n    });\r\n};\r\n\r\n  const calculateMoonPhase = () => {\r\n    const today = new Date();\r\n    const lastNewMoon = new Date(\"2025-02-28\");\r\n    const msPerDay = 1000 * 60 * 60 * 24;\r\n    const moonCycle = 29.53;\r\n    let diffDays = Math.floor((today - lastNewMoon) / msPerDay) % moonCycle;\r\n    if (diffDays < 0) diffDays += moonCycle;\r\n    let phaseText = \"🌑 Uusikuu\";\r\n    if (diffDays < 1.5) phaseText = \"🌑 Uusikuu\";\r\n    else if (diffDays < 7.5) phaseText = \"🌒 Kasvava sirppi 1/4\";\r\n    else if (diffDays < 14.5) phaseText = \"🌓 Kasvava puolikuu 2/4\";\r\n    else if (diffDays < 16.5) phaseText = \"🌕 Täysikuu\";\r\n    else if (diffDays < 23) phaseText = \"🌖 Pienenevä kuu 3/4\";\r\n    else phaseText = \"🌗 Pienenevä kuu 4/4\";\r\n    setMoonPhase(phaseText);\r\n  };\r\n\r\n  const fetchWeatherData = async (lat, lon) => {\r\n  if (!lat || !lon) {\r\n    console.error(\"❌ Koordinaatit puuttuvat, ei voida hakea säätietoja!\");\r\n    return;\r\n  }\r\n  setLoading(true);\r\n  setError(null);\r\n  try {\r\n    console.log(\"📡 Haetaan säätiedot:\", lat, lon); // Tulostaa haettavat koordinaatit\r\n    const url = `https://opendata.fmi.fi/wfs?service=WFS&version=2.0.0&request=getFeature&storedquery_id=fmi::forecast::harmonie::surface::point::simple&latlon=${lat},${lon}&parameters=Temperature,FeelsLike,WindSpeedMS,WindDirection,Pressure,WeatherSymbol3`;\r\n    const response = await axios.get(url);\r\n    const parser = new XMLParser({ ignoreAttributes: false });\r\n    const parsedResult = parser.parse(response.data);\r\n    \r\n    if (!parsedResult?.[\"wfs:FeatureCollection\"]?.[\"wfs:member\"]) {\r\n      throw new Error(\"Virheellinen XML-muoto\");\r\n    }\r\n    console.log(\"✅ Säädata haettu onnistuneesti!\");\r\n    const elements = parsedResult[\"wfs:FeatureCollection\"][\"wfs:member\"];\r\n    const dataMap = {};\r\n    \r\n    elements.forEach((el) => {\r\n      const element = el[\"BsWfs:BsWfsElement\"];\r\n      const time = new Date(element[\"BsWfs:Time\"]);\r\n      let hourKey = time.getHours();\r\n      if (hourKey === 0) hourKey = 24; // Muunnetaan klo 00 → 24\r\n      \r\n      const dayKey = time.toISOString().split(\"T\")[0];\r\n      const paramName = element[\"BsWfs:ParameterName\"];\r\n      let value = element[\"BsWfs:ParameterValue\"];\r\n      \r\n      const openMap = () => {\r\n        if (!latitude || !longitude) {\r\n        setError(\"📍 Ei GPS-sijaintia. Käytä 'Oma Paikka' ensin!\");\r\n        <button onClick={openMap}>📍 Avaa kartta</button>\r\n        return;\r\n  }\r\n\r\n      const url = `https://www.google.com/maps?q=${latitude},${longitude}`;\r\n      console.log(\"🗺️ Avataan kartta:\", url);\r\n      setTimeout(() => {\r\n    window.open(url, \"_blank\", \"noopener,noreferrer\");\r\n  }, 300);\r\n};\r\n      \r\n\r\n      if ([8, 16, 24].includes(hourKey)) { // Nyt mukana myös klo 24\r\n        if (!dataMap[dayKey]) dataMap[dayKey] = {};\r\n        if (!dataMap[dayKey][hourKey]) dataMap[dayKey][hourKey] = {};\r\n        if (paramName === \"FeelsLike\" || paramName === \"Temperature\") {\r\n          value = parseFloat(value).toFixed(1);\r\n        }\r\n        dataMap[dayKey][hourKey][paramName] = value;\r\n      }\r\n    });\r\n    console.log(\"🌦 Päivitetty säädata:\", dataMap); // Tulostaa uuden säädatan\r\n    setForecastData(dataMap);\r\n\r\n  } catch (error) {\r\n    console.error(\"❌ Säätiedon haku epäonnistui:\", error);\r\n    setError(\"Säätiedon haku epäonnistui\");\r\n  } finally {\r\n    setLoading(false);\r\n  }\r\n};\r\n\r\n  return (\r\n    <div key={`${locationName}-${latitude}-${longitude}`}>\r\n      <h2>🌦 Sääennuste</h2>\r\n      <p>📍 {locationName} ({latitude || \"-\"}, {longitude || \"-\"})</p>\r\n      <p>🌙 Kuun vaihe: {moonPhase}</p>\r\n      <input\r\n        type=\"text\"\r\n        value={searchLocation}\r\n        onChange={(e) => setSearchLocation(e.target.value)}\r\n        placeholder=\"Hae paikka...\"\r\n      />\r\n      <button onClick={searchForLocation}>🔍 HAE</button>    \r\n      <button onClick={getUserLocation}>OMA PAIKKA</button>\r\n      {loading && <p>⏳ Ladataan säätietoja...</p>}\r\n      {error && <p style={{ color: \"red\" }}>⚠️ {error}</p>}\r\n      <div>\r\n        {Object.entries(forecastData).map(([date, hours]) => (\r\n          <div key={date}>\r\n            <h3>{date}</h3>\r\n            {Object.entries(hours).map(([hour, data]) => (\r\n              <p key={hour}>\r\n                ⏰ {hour}:00 🌡 {data.Temperature}°C (Tuntuu kuin {data.FeelsLike}°C) 💨 {data.WindSpeedMS}m/s {data.WindDirection}° 🌤 Sää: {weatherDescriptions[data.WeatherSymbol3] || \"Tuntematon\"}\r\n              </p>\r\n            ))}\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Weather;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}